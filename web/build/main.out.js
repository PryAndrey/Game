(()=>{"use strict";var t,i={461:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Ghost=i.Pacman=void 0;var o=s(491);i.Pacman=function(){this.score=0,this.Direction={Now:0,Next:0},this.pos=0};var e=function(){function t(){this.mem=2,this.Direction=0,this.pos=0}return t.prototype.getRandomIntInclusive=function(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t},t.prototype.ChooseWays=function(){if(0==o.field[this.pos+1]||0==o.field[this.pos-1]||0==o.field[this.pos+19]||0==o.field[this.pos-19]||2==o.field[this.pos+1]||2==o.field[this.pos-1]||2==o.field[this.pos+19]||2==o.field[this.pos-19])for(;0==this.Direction;){var t=this.getRandomIntInclusive(1,4);t<=2?1==t?1!=o.field[this.pos+1]&&4!=o.field[this.pos+1]&&(this.Direction=1):1!=o.field[this.pos-1]&&4!=o.field[this.pos-1]&&(this.Direction=-1):3==t?1!=o.field[this.pos+19]&&4!=o.field[this.pos+19]&&(this.Direction=19):1!=o.field[this.pos-19]&&4!=o.field[this.pos-19]&&(this.Direction=-19)}},t.prototype.UpdatePosition=function(){1!=o.field[this.pos+this.Direction]&&(0==this.mem&&(o.field[this.pos]=0),2==this.mem&&(o.field[this.pos]=2),0==o.field[this.pos+this.Direction]&&(this.mem=0),2==o.field[this.pos+this.Direction]&&(this.mem=2),o.field[this.pos+this.Direction]=4,this.pos=this.pos+this.Direction)},t}();i.Ghost=e},769:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GAME=void 0;var o=s(461),e=s(491),h=s(949),a=function(){function t(){this.WIDTH=760,this.HEIGHT=840,this.PAUSE=400,this.GHOSTCOUNT=5,this.canvasContext=null,this.Food=0,this.lose=!1,this.SPRITES={Ghost:new Image,Wall:new Image,EmptyCell:new Image,FoodCell:new Image,Top:new Image,Bottom:new Image,Right:new Image,Left:new Image},this.CELL={WIDTH:this.WIDTH/19,HEIGHT:this.HEIGHT/21},this.Ghosts=new Array,this.pacman=new o.Pacman}return t.prototype.initCanvas=function(t){t.width=this.WIDTH,t.height=this.HEIGHT,this.canvasContext=t.getContext("2d")},t.prototype.start=function(){this.SPRITES.Top.src="img/PacmanT.png",this.SPRITES.Bottom.src="img/PacmanB.png",this.SPRITES.Right.src="img/PacmanR.png",this.SPRITES.Left.src="img/PacmanL.png",this.SPRITES.Ghost.src="img/Ghost.png",this.SPRITES.Wall.src="img/Wall.png",this.SPRITES.EmptyCell.src="img/EmptyCell.png",this.SPRITES.FoodCell.src="img/FoodCell.png";var t=document.getElementById("canvas");this.initCanvas(t);for(var i=0;i<this.GHOSTCOUNT;i++)this.Ghosts[i]=new o.Ghost;var s=0;for(i=0;i<399;i++)4==e.field[i]&&(s<this.GHOSTCOUNT?this.Ghosts[s].pos=i:e.field[i]=0,s++),3==e.field[i]&&(this.pacman.pos=i);for(i=0;i<399;i++)0==e.field[i]&&this.Food++;setInterval(this.tick,this.PAUSE)},t.prototype.stop=function(){alert("Stop!")},t.prototype.draw=function(){var t=0;this.canvasContext.clearRect(0,0,this.WIDTH,this.HEIGHT);for(var i=0;i<=399;i++)0==e.field[i]&&this.canvasContext.drawImage(this.SPRITES.FoodCell,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),1==e.field[i]&&this.canvasContext.drawImage(this.SPRITES.Wall,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),2==e.field[i]&&this.canvasContext.drawImage(this.SPRITES.EmptyCell,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),3==e.field[i]&&(this.canvasContext.drawImage(this.SPRITES.EmptyCell,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),1!=this.pacman.Direction.Now&&0!=this.pacman.Direction.Now||this.canvasContext.drawImage(this.SPRITES.Right,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),-1==this.pacman.Direction.Now&&this.canvasContext.drawImage(this.SPRITES.Left,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),-19==this.pacman.Direction.Now&&this.canvasContext.drawImage(this.SPRITES.Top,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),19==this.pacman.Direction.Now&&this.canvasContext.drawImage(this.SPRITES.Bottom,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT)),4==e.field[i]&&(t<this.GHOSTCOUNT&&(this.canvasContext.drawImage(this.SPRITES.FoodCell,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT),this.canvasContext.drawImage(this.SPRITES.Ghost,this.CELL.WIDTH*(i%19),this.CELL.HEIGHT*Math.floor(i/19),this.CELL.WIDTH,this.CELL.HEIGHT)),t++);this.canvasContext.font="30px Arial",this.canvasContext.fillStyle="red",this.canvasContext.fillText(this.pacman.score,12,27)},t.prototype.updateState=function(){3==e.field[this.pacman.pos]?(1!=e.field[this.pacman.pos+this.pacman.Direction.Next]&&(this.pacman.Direction.Now=this.pacman.Direction.Next),0==e.field[this.pacman.pos+this.pacman.Direction.Now]&&this.pacman.score++,4==e.field[this.pacman.pos+this.pacman.Direction.Now]&&(e.field[this.pacman.pos]=2,this.lose=!0),1==e.field[this.pacman.pos+this.pacman.Direction.Now]||this.lose||(e.field[this.pacman.pos]=2,e.field[this.pacman.pos+this.pacman.Direction.Now]=3,this.pacman.pos=this.pacman.pos+this.pacman.Direction.Now)):this.lose=!0;for(var t=0;t<this.GHOSTCOUNT;t++)4==e.field[this.Ghosts[t].pos]&&(this.Ghosts[t].ChooseWays(),this.Ghosts[t].UpdatePosition(),this.Ghosts[t].Direction=0)},t.prototype.tick=function(){window.onkeydown=this.processKey,this.updateState(),this.draw(),this.lose&&(alert("Ты проиграл!"),window.location.reload(),h.sleep(200)),this.pacman.score==this.Food&&(alert("Ты победил!"),window.location.reload(),h.sleep(200))},t.prototype.processKey=function(t){38==t.keyCode&&(this.pacman.Direction.Next=-19),40==t.keyCode&&(this.pacman.Direction.Next=19),37==t.keyCode&&(this.pacman.Direction.Next=-1),39==t.keyCode&&(this.pacman.Direction.Next=1)},t}();i.GAME=a},949:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sleep=void 0,i.sleep=function(t){for(var i=(new Date).getTime();(new Date).getTime()-i<t;);}},491:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.field=void 0,i.field=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,4,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,1,2,2,2,1,0,1,0,0,0,0,0,0,0,1,0,1,2,2,2,1,1,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,1,4,4,4,1,0,0,0,0,0,0,0,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1,2,2,2,1,0,1,0,0,0,4,0,0,0,1,0,1,2,2,2,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,1,1,4,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},s={};t=function t(o){var e=s[o];if(void 0!==e)return e.exports;var h=s[o]={exports:{}};return i[o](h,h.exports,t),h.exports}(769),window.addEventListener("load",(function(){var i=new t.GAME;i.start(),window.addEventListener("unload",(function(){return i.stop()}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXRlbXBsYXRlLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10ZW1wbGF0ZS8uL3NyYy9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10ZW1wbGF0ZS8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL3Byb2plY3QtdGVtcGxhdGUvLi9zcmMvaGVscGVyLnRzIiwid2VicGFjazovL3Byb2plY3QtdGVtcGxhdGUvLi9zcmMvbWFwLnRzIiwid2VicGFjazovL3Byb2plY3QtdGVtcGxhdGUvd2VicGFjay9ib290c3RyYXAiXSwibmFtZXMiOlsiUGFjbWFuIiwic2NvcmUiLCJEaXJlY3Rpb24iLCJOb3ciLCJOZXh0IiwicG9zIiwibWVtIiwiZ2V0UmFuZG9tSW50SW5jbHVzaXZlIiwibWluIiwibWF4IiwiTWF0aCIsImNlaWwiLCJmbG9vciIsInJhbmRvbSIsIkNob29zZVdheXMiLCJmaWVsZCIsInRoaXMiLCJSIiwiVXBkYXRlUG9zaXRpb24iLCJHaG9zdCIsIldJRFRIIiwiSEVJR0hUIiwiUEFVU0UiLCJHSE9TVENPVU5UIiwiY2FudmFzQ29udGV4dCIsIkZvb2QiLCJsb3NlIiwiU1BSSVRFUyIsIkltYWdlIiwiV2FsbCIsIkVtcHR5Q2VsbCIsIkZvb2RDZWxsIiwiVG9wIiwiQm90dG9tIiwiUmlnaHQiLCJMZWZ0IiwiQ0VMTCIsIkdob3N0cyIsIkFycmF5IiwicGFjbWFuIiwiaW5pdENhbnZhcyIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsInN0YXJ0Iiwic3JjIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImkiLCJDb3VudCIsInNldEludGVydmFsIiwidGljayIsInN0b3AiLCJhbGVydCIsImRyYXciLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJmb250IiwiZmlsbFN0eWxlIiwiZmlsbFRleHQiLCJ1cGRhdGVTdGF0ZSIsIndpbmRvdyIsIm9ua2V5ZG93biIsInByb2Nlc3NLZXkiLCJsb2NhdGlvbiIsInJlbG9hZCIsInNsZWVwIiwiZSIsImtleUNvZGUiLCJHQU1FIiwibWlsbGlzIiwiaiIsIkRhdGUiLCJnZXRUaW1lIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJhZGRFdmVudExpc3RlbmVyIiwiZ2FtZSJdLCJtYXBwaW5ncyI6InVCQUFBLEUsMEZDQUEsYUFFYSxFQUFBQSxPQUFiLFdBQ0MsS0FBQUMsTUFBUSxFQUNSLEtBQUFDLFVBQVksQ0FDWEMsSUFBSyxFQUNMQyxLQUFNLEdBRVAsS0FBQUMsSUFBTSxHQUdQLDhCQUNDLEtBQUFDLElBQU0sRUFDTixLQUFBSixVQUFZLEVBQ1osS0FBQUcsSUFBTSxFQTZDUCxPQTNDQyxZQUFBRSxzQkFBQSxTQUFzQkMsRUFBWUMsR0FHakMsT0FGQUQsRUFBTUUsS0FBS0MsS0FBS0gsR0FDaEJDLEVBQU1DLEtBQUtFLE1BQU1ILEdBQ1ZDLEtBQUtFLE1BQU1GLEtBQUtHLFVBQVlKLEVBQU1ELEVBQU0sSUFBTUEsR0FHdEQsWUFBQU0sV0FBQSxXQUNDLEdBQTBCLEdBQXJCLEVBQUFDLE1BQU1DLEtBQUtYLElBQUksSUFBa0MsR0FBckIsRUFBQVUsTUFBTUMsS0FBS1gsSUFBSSxJQUFtQyxHQUF0QixFQUFBVSxNQUFNQyxLQUFLWCxJQUFJLEtBQW9DLEdBQXRCLEVBQUFVLE1BQU1DLEtBQUtYLElBQUksS0FDL0UsR0FBckIsRUFBQVUsTUFBTUMsS0FBS1gsSUFBSSxJQUFrQyxHQUFyQixFQUFBVSxNQUFNQyxLQUFLWCxJQUFJLElBQW1DLEdBQXRCLEVBQUFVLE1BQU1DLEtBQUtYLElBQUksS0FBb0MsR0FBdEIsRUFBQVUsTUFBTUMsS0FBS1gsSUFBSSxJQUN4RyxLQUF5QixHQUFsQlcsS0FBS2QsV0FBZ0IsQ0FDM0IsSUFBSWUsRUFBSUQsS0FB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dkpBLEdBQWEsRUFBQWtFLFEsNEVDTmIsaUJBQXNCQyxHQUVyQixJQURBLElBQUlDLEdBQUksSUFBS0MsTUFBUUMsV0FDYixJQUFLRCxNQUFRQyxVQUFZRixFQUFLRCxPLDRFQ0Y1QixFQUFBeEQsTUFBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BELEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQ3BDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtDbkJuQzRELEVBQTJCLEdMRC9CLEVLSUEsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsSUFPVixPQUhBRSxFQUFvQkwsR0FBVUksRUFBUUEsRUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELFFMckJmLE1BQ0FsQixPQUFPcUIsaUJBQWlCLFFBQVEsV0FDNUIsSUFBTUMsRUFBTyxJQUFJLEVBQUFkLEtBQ2pCYyxFQUFLdkMsUUFDTGlCLE9BQU9xQixpQkFBaUIsVUFBVSxXQUFNLE9BQUFDLEVBQUsvQixjIiwiZmlsZSI6Im1haW4ub3V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtHQU1FfSBmcm9tICcuL2dhbWUnOyBcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGNvbnN0IGdhbWUgPSBuZXcgR0FNRSgpO1xuICAgIGdhbWUuc3RhcnQoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgKCkgPT4gZ2FtZS5zdG9wKCkpO1xufSkiLCJpbXBvcnQge2ZpZWxkfSBmcm9tIFwiLi9tYXBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWNtYW4geyAgICAgICBcclxuXHRzY29yZSA9IDAgICAgXHJcblx0RGlyZWN0aW9uID0ge1xyXG5cdFx0Tm93OiAwLFxyXG5cdFx0TmV4dDogMCxcclxuXHR9XHJcblx0cG9zID0gMFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR2hvc3Qge1xyXG5cdG1lbSA9IDJcclxuXHREaXJlY3Rpb24gPSAwXHRcclxuXHRwb3MgPSAwXHJcblx0XHJcblx0Z2V0UmFuZG9tSW50SW5jbHVzaXZlKG1pbjpudW1iZXIsIG1heDpudW1iZXIpIHtcclxuXHRcdG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG5cdFx0bWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcblx0fVxyXG5cclxuXHRDaG9vc2VXYXlzKCl7XHJcblx0XHRpZiAoKGZpZWxkW3RoaXMucG9zKzFdID09IDApIHx8IChmaWVsZFt0aGlzLnBvcy0xXSA9PSAwKSB8fCAoZmllbGRbdGhpcy5wb3MrMTldID09IDApIHx8IChmaWVsZFt0aGlzLnBvcy0xOV0gPT0gMCkgfHwgXHJcblx0XHQgICAgKGZpZWxkW3RoaXMucG9zKzFdID09IDIpIHx8IChmaWVsZFt0aGlzLnBvcy0xXSA9PSAyKSB8fCAoZmllbGRbdGhpcy5wb3MrMTldID09IDIpIHx8IChmaWVsZFt0aGlzLnBvcy0xOV0gPT0gMikpe1xyXG5cdFx0XHR3aGlsZSAodGhpcy5EaXJlY3Rpb24gPT0gMCkge1xyXG5cdFx0XHRcdGxldCBSID0gdGhpcy5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMSwgNCk7XHRcclxuXHRcdFx0XHRpZiAoUiA8PSAyKXtcclxuXHRcdFx0XHRcdGlmIChSID09IDEpe1xyXG5cdFx0XHRcdFx0XHRpZiAoKGZpZWxkW3RoaXMucG9zKzFdICE9IDEpICYmIChmaWVsZFt0aGlzLnBvcysxXSAhPSA0KSkgdGhpcy5EaXJlY3Rpb24gPSAxO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHRcclxuXHRcdFx0XHRcdFx0aWYgKChmaWVsZFt0aGlzLnBvcy0xXSAhPSAxKSAmJiAoZmllbGRbdGhpcy5wb3MtMV0gIT0gNCkpIHRoaXMuRGlyZWN0aW9uID0gLTE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpZiAoUiA9PSAzKXtcclxuXHRcdFx0XHRcdFx0aWYgKChmaWVsZFt0aGlzLnBvcysxOV0gIT0gMSkgJiYgKGZpZWxkW3RoaXMucG9zKzE5XSAhPSA0KSkgdGhpcy5EaXJlY3Rpb24gPSAxOTtcclxuXHRcdFx0XHRcdH1lbHNleyBcclxuXHRcdFx0XHRcdFx0aWYgKChmaWVsZFt0aGlzLnBvcy0xOV0gIT0gMSkgJiYgKGZpZWxkW3RoaXMucG9zLTE5XSAhPSA0KSkgdGhpcy5EaXJlY3Rpb24gPSAtMTk7XHJcblx0XHRcdFx0XHR9XHRcdFx0XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuICAgIH1cclxuXHRcclxuXHRVcGRhdGVQb3NpdGlvbigpe1xyXG5cdFx0aWYgKGZpZWxkW3RoaXMucG9zK3RoaXMuRGlyZWN0aW9uXSAhPSAxKXtcdFx0XHRcdFxyXG5cdFx0XHRpZiAodGhpcy5tZW0gPT0gMClcclxuXHRcdFx0XHRmaWVsZFt0aGlzLnBvc10gPSAwO1xyXG5cdFx0XHRpZiAodGhpcy5tZW0gPT0gMilcclxuXHRcdFx0XHRmaWVsZFt0aGlzLnBvc10gPSAyO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRpZiAoZmllbGRbdGhpcy5wb3MrdGhpcy5EaXJlY3Rpb25dID09IDApXHJcblx0XHRcdFx0dGhpcy5tZW0gPSAwO1xyXG5cdFx0XHRpZiAoZmllbGRbdGhpcy5wb3MrdGhpcy5EaXJlY3Rpb25dID09IDIpXHJcblx0XHRcdFx0dGhpcy5tZW0gPSAyO1xyXG5cdFx0XHRmaWVsZFt0aGlzLnBvcyt0aGlzLkRpcmVjdGlvbl0gPSA0O1x0XHJcblx0XHRcdHRoaXMucG9zID0gdGhpcy5wb3MgKyB0aGlzLkRpcmVjdGlvbjtcclxuXHRcdFx0fVx0XHRcclxuICAgIH1cdFxyXG59IiwiaW1wb3J0IHtQYWNtYW4sIEdob3N0fSBmcm9tIFwiLi9lbnRpdHlcIjtcbmltcG9ydCB7ZmllbGR9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHtzbGVlcH0gZnJvbSBcIi4vaGVscGVyXCI7XG5cdFx0XHRcblxuXG5leHBvcnQgY2xhc3MgR0FNRSB7XG4gICAgV0lEVEggPSA3NjBcbiAgICBIRUlHSFQgPSA4NDBcbiAgICBQQVVTRSA9IDQwMFxuXHRHSE9TVENPVU5UID0gNVxuICAgIGNhbnZhc0NvbnRleHQ6IGFueSA9IG51bGxcblx0Rm9vZCA9IDBcblx0bG9zZSA9IGZhbHNlXG5cdFNQUklURVMgPSB7XG4gICAgICAgIEdob3N0OiBuZXcgSW1hZ2UoKSxcdFx0XG5cdFx0V2FsbDogbmV3IEltYWdlKCksXG5cdFx0RW1wdHlDZWxsOiBuZXcgSW1hZ2UoKSxcblx0XHRGb29kQ2VsbDogbmV3IEltYWdlKCksXG5cdFx0XG5cdFx0VG9wOiBuZXcgSW1hZ2UoKSxcblx0XHRCb3R0b206IG5ldyBJbWFnZSgpLFxuXHRcdFJpZ2h0OiBuZXcgSW1hZ2UoKSxcblx0XHRMZWZ0OiBuZXcgSW1hZ2UoKSxcbiAgICB9XG5cdENFTEwgPSB7XG5cdFx0V0lEVEg6IHRoaXMuV0lEVEggLyAxOSxcblx0XHRIRUlHSFQ6IHRoaXMuSEVJR0hUIC8gMjEsXG5cdH1cblx0XG5cdEdob3N0cyA9IG5ldyBBcnJheSgpO1xuXHRwYWNtYW4gPSBuZXcgUGFjbWFuKCk7XG5cdFxuXHRpbml0Q2FudmFzKGNhbnZhczogYW55KSB7XG5cdFx0Y2FudmFzLndpZHRoID0gdGhpcy5XSURUSDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gdGhpcy5IRUlHSFQ7XG5cdFx0dGhpcy5jYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0fVxuXHRcblx0c3RhcnQoKSB7XHRcdFxuXHRcdHRoaXMuU1BSSVRFUy5Ub3Auc3JjID0gXCJpbWcvUGFjbWFuVC5wbmdcIlxuXHRcdHRoaXMuU1BSSVRFUy5Cb3R0b20uc3JjID0gXCJpbWcvUGFjbWFuQi5wbmdcIlxuXHRcdHRoaXMuU1BSSVRFUy5SaWdodC5zcmMgPSBcImltZy9QYWNtYW5SLnBuZ1wiXG5cdFx0dGhpcy5TUFJJVEVTLkxlZnQuc3JjID0gXCJpbWcvUGFjbWFuTC5wbmdcIlx0XG5cdFx0dGhpcy5TUFJJVEVTLkdob3N0LnNyYyA9IFwiaW1nL0dob3N0LnBuZ1wiXG5cdFx0dGhpcy5TUFJJVEVTLldhbGwuc3JjID0gXCJpbWcvV2FsbC5wbmdcIiBcblx0XHR0aGlzLlNQUklURVMuRW1wdHlDZWxsLnNyYyA9IFwiaW1nL0VtcHR5Q2VsbC5wbmdcIlxuXHRcdHRoaXMuU1BSSVRFUy5Gb29kQ2VsbC5zcmMgPSBcImltZy9Gb29kQ2VsbC5wbmdcIlxuXHRcdFxuXHRcdGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcblx0XHR0aGlzLmluaXRDYW52YXMoY2FudmFzKTtcblx0XHRcblx0XHRmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5HSE9TVENPVU5UOyBpKyspe1xuXHRcdFx0dGhpcy5HaG9zdHNbaV0gPSBuZXcgR2hvc3QoKTtcdFx0XG5cdFx0fVxuXHRcdFxuXHRcdGxldCBDb3VudCA9IDA7XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IDM5OTsgaSsrKXtcblx0XHRcdGlmIChmaWVsZFtpXSA9PSA0KXsgXG5cdFx0XHRcdGlmIChDb3VudCA8IHRoaXMuR0hPU1RDT1VOVCl7dGhpcy5HaG9zdHNbQ291bnRdLnBvcyA9IGk7fSBlbHNlIHtmaWVsZFtpXSA9IDB9XG5cdFx0XHRcdENvdW50Kys7XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gMyl7IC8vcGFjbWFuIDNcblx0XHRcdFx0dGhpcy5wYWNtYW4ucG9zID0gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IDM5OTsgaSsrKSBpZihmaWVsZFtpXSA9PSAwKSB0aGlzLkZvb2QrKztcblx0XHRcblx0XHRzZXRJbnRlcnZhbCh0aGlzLnRpY2ssIHRoaXMuUEFVU0UpO1xuXHR9XG5cdFxuXHRzdG9wKCkge1xuXHRcdGFsZXJ0KFwiU3RvcCFcIik7XHQgIFxuXHR9XG5cdFxuXHRkcmF3KCkge1x0XG5cdFx0bGV0IENvdW50ID0gMDtcblx0XHR0aGlzLmNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuV0lEVEgsIHRoaXMuSEVJR0hUKTtcblx0XHRcblx0XHRmb3IobGV0IGkgPSAwOyBpIDw9IDM5OTsgaSArKyl7XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gMCkgIC8vRm9vZENlbGwgMFxuXHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5Gb29kQ2VsbCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0aWYgKGZpZWxkW2ldID09IDEpICAvL1dhbGwgMVxuXHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5XYWxsLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gMikgIC8vRW1wdHlDZWxsIDJcblx0XHRcdFx0dGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLlNQUklURVMuRW1wdHlDZWxsLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gMyl7IC8vcGFjbWFuIDNcblx0XHRcdFx0dGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLlNQUklURVMuRW1wdHlDZWxsLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XHRcdGlmICgodGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5vdyA9PSAxKSB8fCAodGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5vdyA9PSAwKSl0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5SaWdodCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0XHRpZiAodGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5vdyA9PSAtMSkgdGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLlNQUklURVMuTGVmdCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0XHRpZiAodGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5vdyA9PSAtMTkpIHRoaXMuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5TUFJJVEVTLlRvcCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0XHRpZiAodGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5vdyA9PSAxOSkgdGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLlNQUklURVMuQm90dG9tLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gNCl7IC8vR2hvc3QgNFxuXHRcdFx0XHRpZiAoQ291bnQgPCB0aGlzLkdIT1NUQ09VTlQpe1xuXHRcdFx0XHRcdHRoaXMuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5TUFJJVEVTLkZvb2RDZWxsLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7ICBcblx0XHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5HaG9zdCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdENvdW50Kys7XHRcdFx0XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuY2FudmFzQ29udGV4dC5mb250ID0gXCIzMHB4IEFyaWFsXCI7ICAgXHRcblx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjsgIFxuXHRcdHRoaXMuY2FudmFzQ29udGV4dC5maWxsVGV4dCh0aGlzLnBhY21hbi5zY29yZSwgMTIsIDI3KTsgXG5cdH1cblx0XG5cdHVwZGF0ZVN0YXRlKCkge1xuXHRcdGlmIChmaWVsZFt0aGlzLnBhY21hbi5wb3NdID09IDMpeyAvL3BhY21hblxuXHRcdFx0aWYgKGZpZWxkW3RoaXMucGFjbWFuLnBvcyt0aGlzLnBhY21hbi5EaXJlY3Rpb24uTmV4dF0gIT0gMSl7XG5cdFx0XHRcdHRoaXMucGFjbWFuLkRpcmVjdGlvbi5Ob3cgPSB0aGlzLnBhY21hbi5EaXJlY3Rpb24uTmV4dDtcdFx0ICBcdFx0XHRcdCAgXG5cdFx0XHR9XG5cdFx0XHRpZiAoZmllbGRbdGhpcy5wYWNtYW4ucG9zK3RoaXMucGFjbWFuLkRpcmVjdGlvbi5Ob3ddID09IDApXG5cdFx0XHRcdHRoaXMucGFjbWFuLnNjb3JlKys7XG5cdFx0XHRpZiAoZmllbGRbdGhpcy5wYWNtYW4ucG9zK3RoaXMucGFjbWFuLkRpcmVjdGlvbi5Ob3ddID09IDQpe1xuXHRcdFx0XHRmaWVsZFt0aGlzLnBhY21hbi5wb3NdID0gMjtcblx0XHRcdFx0dGhpcy5sb3NlID0gdHJ1ZTtcdFx0ICBcdFx0XHRcdCAgXG5cdFx0XHR9XG5cdFx0XHRpZiAoKGZpZWxkW3RoaXMucGFjbWFuLnBvcyt0aGlzLnBhY21hbi5EaXJlY3Rpb24uTm93XSAhPSAxKSAmJiAoIXRoaXMubG9zZSkpe1xuXHRcdFx0XHRmaWVsZFt0aGlzLnBhY21hbi5wb3NdID0gMjtcblx0XHRcdFx0ZmllbGRbdGhpcy5wYWNtYW4ucG9zK3RoaXMucGFjbWFuLkRpcmVjdGlvbi5Ob3ddID0gMztcdFxuXHRcdFx0XHR0aGlzLnBhY21hbi5wb3MgPSB0aGlzLnBhY21hbi5wb3MgKyB0aGlzLnBhY21hbi5EaXJlY3Rpb24uTm93O1x0XHRcblx0XHRcdH1cblx0XHR9IGVsc2Uge3RoaXMubG9zZSA9IHRydWU7fVx0XHRcdFx0ICBcblx0XHRcdFxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLkdIT1NUQ09VTlQ7IGkrKyl7XG5cdFx0XHRpZiAoZmllbGRbdGhpcy5HaG9zdHNbaV0ucG9zXSA9PSA0KXsgIC8vR2hvc3RcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHR0aGlzLkdob3N0c1tpXS5DaG9vc2VXYXlzKCk7XHRcblx0XHRcdFx0dGhpcy5HaG9zdHNbaV0uVXBkYXRlUG9zaXRpb24oKTtcblx0XHRcdFx0dGhpcy5HaG9zdHNbaV0uRGlyZWN0aW9uID0gMDtcdFx0XHRcdCAgXHRcdFxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0dGljaygpIHtcblx0XHR3aW5kb3cub25rZXlkb3duID0gdGhpcy5wcm9jZXNzS2V5O1xuXHRcdHRoaXMudXBkYXRlU3RhdGUoKTtcblx0XHR0aGlzLmRyYXcoKTtcblx0XHRpZiAodGhpcy5sb3NlKSB7YWxlcnQoXCLQotGLINC/0YDQvtC40LPRgNCw0LshXCIpOyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7IHNsZWVwKDIwMCk7fVxuXHRcdGlmICh0aGlzLnBhY21hbi5zY29yZSA9PSB0aGlzLkZvb2QpIHthbGVydChcItCi0Ysg0L/QvtCx0LXQtNC40LshXCIpOyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7IHNsZWVwKDIwMCk7fVx0ICBcblx0fVxuXHRcblx0XHRcblx0cHJvY2Vzc0tleShlOmFueSkgeyBcblx0XHRpZiAoZS5rZXlDb2RlID09IDM4KSB7IC8v0JLQstC10YDRhVxuXHRcdFx0dGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5leHQgPSAtMTk7XG5cdFx0fVxuXHRcdGlmIChlLmtleUNvZGUgPT0gNDApIHsgLy/QktC90LjQt1xuXHRcdFx0dGhpcy5wYWNtYW4uRGlyZWN0aW9uLk5leHQgPSAxOTtcblx0XHR9XG5cdFx0aWYgKGUua2V5Q29kZSA9PSAzNykgeyAvL9CS0LvQtdCy0L5cblx0XHRcdHRoaXMucGFjbWFuLkRpcmVjdGlvbi5OZXh0ID0gLTE7XG5cdFx0fVxuXHRcdGlmIChlLmtleUNvZGUgPT0gMzkpIHsgLy/QktC/0YDQsNCy0L5cblx0XHRcdHRoaXMucGFjbWFuLkRpcmVjdGlvbi5OZXh0ID0gMTtcblx0XHR9XG59XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc2xlZXAobWlsbGlzOm51bWJlcikge1xyXG5cdGxldCBqID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuXHR3aGlsZSAoKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBqKSA8IG1pbGxpcykge1x0fVxyXG59IiwiZXhwb3J0IGxldCBmaWVsZCA9WzEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsXHJcblx0XHRcdDEsNCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCw0LDEsXHJcblx0XHRcdDEsMCwxLDEsMCwxLDEsMSwwLDEsMCwxLDEsMSwwLDEsMSwwLDEsXHJcblx0XHRcdDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsXHJcblx0XHRcdDEsMCwxLDEsMCwxLDAsMSwxLDEsMSwxLDAsMSwwLDEsMSwwLDEsXHJcblx0XHRcdDEsMCwwLDAsMCwxLDAsMCwwLDEsMCwwLDAsMSwwLDAsMCwwLDEsXHJcblx0XHRcdDEsMSwxLDEsMCwxLDEsMSwwLDEsMCwxLDEsMSwwLDEsMSwxLDEsXHJcblx0XHRcdDIsMiwyLDEsMCwxLDAsMCwwLDAsMCwwLDAsMSwwLDEsMiwyLDIsXHJcblx0XHRcdDEsMSwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwxLDEsXHJcblx0XHRcdDAsMCwwLDAsMCwwLDAsMSw0LDQsNCwxLDAsMCwwLDAsMCwwLDAsXHJcblx0XHRcdDEsMSwxLDEsMCwxLDAsMSwxLDEsMSwxLDAsMSwwLDEsMSwxLDEsXHJcblx0XHRcdDIsMiwyLDEsMCwxLDAsMCwwLDQsMCwwLDAsMSwwLDEsMiwyLDIsXHJcblx0XHRcdDEsMSwxLDEsMCwxLDAsMSwxLDEsMSwxLDAsMSwwLDEsMSwxLDEsXHJcblx0XHRcdDEsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDEsXHJcblx0XHRcdDEsMCwxLDEsMCwxLDEsMSwwLDEsMCwxLDEsMSwwLDEsMSwwLDEsXHJcblx0XHRcdDEsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDEsXHJcblx0XHRcdDEsMSwwLDEsMCwxLDAsMSwxLDEsMSwxLDAsMSwwLDEsMCwxLDEsXHJcblx0XHRcdDEsMCwwLDAsMCwxLDAsMCwwLDEsMCwwLDAsMSwwLDAsMCwwLDEsXHJcblx0XHRcdDEsMCwxLDEsMSwxLDEsMSwwLDEsMCwxLDEsMSwxLDEsMSwwLDEsXHJcblx0XHRcdDEsNCwwLDAsMCwwLDAsMCwwLDMsMCwwLDAsMCwwLDAsMCw0LDEsXHJcblx0XHRcdDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDFdOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9