(()=>{"use strict";var t,i={461:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Ghost=i.Pacman=void 0;var o=s(491),e=function(){function t(){this.score=0,this.pos=0,this.lose=!1,this.NowDirection=0,this.NextDirection=0}return t.prototype.UpdatePosition=function(){3==o.field[this.pos]?(1!=o.field[this.pos+this.NextDirection]&&(this.NowDirection=this.NextDirection),0==o.field[this.pos+this.NowDirection]&&this.score++,4==o.field[this.pos+this.NowDirection]&&(o.field[this.pos]=2,this.lose=!0),1==o.field[this.pos+this.NowDirection]||this.lose||(o.field[this.pos]=2,o.field[this.pos+this.NowDirection]=3,this.pos=this.pos+this.NowDirection)):this.lose=!0},t}();i.Pacman=e;var h=function(){function t(){this.mem=2,this.Direction=0,this.pos=0}return t.prototype.getRandomIntInclusive=function(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t},t.prototype.ChooseWays=function(){if(0==o.field[this.pos+1]||0==o.field[this.pos-1]||0==o.field[this.pos+19]||0==o.field[this.pos-19]||2==o.field[this.pos+1]||2==o.field[this.pos-1]||2==o.field[this.pos+19]||2==o.field[this.pos-19])for(;0==this.Direction;){var t=this.getRandomIntInclusive(1,4);t<=2?1==t?1!=o.field[this.pos+1]&&4!=o.field[this.pos+1]&&(this.Direction=1):1!=o.field[this.pos-1]&&4!=o.field[this.pos-1]&&(this.Direction=-1):3==t?1!=o.field[this.pos+19]&&4!=o.field[this.pos+19]&&(this.Direction=19):1!=o.field[this.pos-19]&&4!=o.field[this.pos-19]&&(this.Direction=-19)}},t.prototype.UpdatePosition=function(){1!=o.field[this.pos+this.Direction]&&(0==this.mem&&(o.field[this.pos]=0),2==this.mem&&(o.field[this.pos]=2),0==o.field[this.pos+this.Direction]&&(this.mem=0),2==o.field[this.pos+this.Direction]&&(this.mem=2),o.field[this.pos+this.Direction]=4,this.pos=this.pos+this.Direction)},t}();i.Ghost=h},769:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GAME=void 0;var o=s(461),e=s(491),h=s(949),n=function(){function t(){this.WIDTH=760,this.HEIGHT=840,this.PAUSE=400,this.GHOSTCOUNT=7,this.Food=0,this.Ghosts=new Array,this.pacman=new o.Pacman,this.SPRITES={Ghost:new Image,Wall:new Image,EmptyCell:new Image,FoodCell:new Image,Top:new Image,Bottom:new Image,Right:new Image,Left:new Image},this.CELL={WIDTH:this.WIDTH/19,HEIGHT:this.HEIGHT/21}}return t.prototype.start=function(){this.connectSprites();var t=document.getElementById("canvas");this.initCanvas(t),this.initEntitys(),this._initGameLoop()},t.prototype.stop=function(){window.location.reload()},t.prototype.connectSprites=function(){this.SPRITES.Top.src="img/PacmanT.png",this.SPRITES.Bottom.src="img/PacmanB.png",this.SPRITES.Right.src="img/PacmanR.png",this.SPRITES.Left.src="img/PacmanL.png",this.SPRITES.Ghost.src="img/Ghost.png",this.SPRITES.Wall.src="img/Wall.png",this.SPRITES.EmptyCell.src="img/EmptyCell.png",this.SPRITES.FoodCell.src="img/FoodCell.png"},t.prototype.initCanvas=function(t){t.width=this.WIDTH,t.height=this.HEIGHT,this.canvasContext=t.getContext("2d")},t.prototype.initEntitys=function(){for(var t=0;t<this.GHOSTCOUNT;t++)this.Ghosts[t]=new o.Ghost;var i=0;for(t=0;t<399;t++)4==e.field[t]&&(i<this.GHOSTCOUNT?this.Ghosts[i].pos=t:e.field[t]=0,i++),3==e.field[t]&&(this.pacman.pos=t);for(t=0;t<399;t++)0==e.field[t]&&this.Food++},t.prototype.draw=function(){this.canvasContext.clearRect(0,0,this.WIDTH,this.HEIGHT);for(var t=0;t<=399;t++)0==e.field[t]&&this.canvasContext.drawImage(this.SPRITES.FoodCell,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),1==e.field[t]&&this.canvasContext.drawImage(this.SPRITES.Wall,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),2==e.field[t]&&this.canvasContext.drawImage(this.SPRITES.EmptyCell,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),3==e.field[t]&&(this.canvasContext.drawImage(this.SPRITES.EmptyCell,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),1!=this.pacman.NowDirection&&0!=this.pacman.NowDirection||this.canvasContext.drawImage(this.SPRITES.Right,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),-1==this.pacman.NowDirection&&this.canvasContext.drawImage(this.SPRITES.Left,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),-19==this.pacman.NowDirection&&this.canvasContext.drawImage(this.SPRITES.Top,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),19==this.pacman.NowDirection&&this.canvasContext.drawImage(this.SPRITES.Bottom,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT)),4==e.field[t]&&(this.canvasContext.drawImage(this.SPRITES.EmptyCell,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT),this.canvasContext.drawImage(this.SPRITES.Ghost,this.CELL.WIDTH*(t%19),this.CELL.HEIGHT*Math.floor(t/19),this.CELL.WIDTH,this.CELL.HEIGHT));this.canvasContext.font="30px Arial",this.canvasContext.fillStyle="red",this.canvasContext.fillText(this.pacman.score,12,27)},t.prototype.updateState=function(){this.pacman.UpdatePosition();for(var t=0;t<this.GHOSTCOUNT;t++)4==e.field[this.Ghosts[t].pos]&&(this.Ghosts[t].ChooseWays(),this.Ghosts[t].UpdatePosition(),this.Ghosts[t].Direction=0)},t.prototype.processKey=function(t){38==t.keyCode&&(this.pacman.NextDirection=-19),40==t.keyCode&&(this.pacman.NextDirection=19),37==t.keyCode&&(this.pacman.NextDirection=-1),39==t.keyCode&&(this.pacman.NextDirection=1)},t.prototype.tick=function(){window.onkeydown=this.processKey,this.updateState(),this.draw(),h.sleep(this.PAUSE)},t.prototype._gameIsOver=function(){return!(!this.pacman.lose&&this.pacman.score!=this.Food||(this.pacman.lose&&alert("Ты проиграл!"),this.pacman.score==this.Food&&alert("Ты победил!"),h.sleep(200),0))},t.prototype._initGameLoop=function(){var t=this;requestAnimationFrame((function(){t._gameIsOver()||(t.tick(),t._initGameLoop())}))},t}();i.GAME=n},949:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sleep=void 0,i.sleep=function(t){for(var i=(new Date).getTime();(new Date).getTime()-i<t;);}},491:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.field=void 0,i.field=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,4,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,1,2,2,2,1,0,1,0,0,0,0,0,0,0,1,0,1,2,2,2,1,1,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,1,4,4,4,1,0,0,0,0,0,0,0,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1,2,2,2,1,0,1,0,0,0,4,0,0,0,1,0,1,2,2,2,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,1,1,4,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},s={};t=function t(o){var e=s[o];if(void 0!==e)return e.exports;var h=s[o]={exports:{}};return i[o](h,h.exports,t),h.exports}(769),window.addEventListener("load",(function(){var i=new t.GAME;i.start(),window.addEventListener("unload",(function(){return i.stop()}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXRlbXBsYXRlLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10ZW1wbGF0ZS8uL3NyYy9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10ZW1wbGF0ZS8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL3Byb2plY3QtdGVtcGxhdGUvLi9zcmMvaGVscGVyLnRzIiwid2VicGFjazovL3Byb2plY3QtdGVtcGxhdGUvLi9zcmMvbWFwLnRzIiwid2VicGFjazovL3Byb2plY3QtdGVtcGxhdGUvd2VicGFjay9ib290c3RyYXAiXSwibmFtZXMiOlsic2NvcmUiLCJwb3MiLCJsb3NlIiwiTm93RGlyZWN0aW9uIiwiTmV4dERpcmVjdGlvbiIsIlVwZGF0ZVBvc2l0aW9uIiwiZmllbGQiLCJ0aGlzIiwiUGFjbWFuIiwibWVtIiwiRGlyZWN0aW9uIiwiZ2V0UmFuZG9tSW50SW5jbHVzaXZlIiwibWluIiwibWF4IiwiTWF0aCIsImNlaWwiLCJmbG9vciIsInJhbmRvbSIsIkNob29zZVdheXMiLCJSIiwiR2hvc3QiLCJXSURUSCIsIkhFSUdIVCIsIlBBVVNFIiwiR0hPU1RDT1VOVCIsIkZvb2QiLCJHaG9zdHMiLCJBcnJheSIsInBhY21hbiIsIlNQUklURVMiLCJJbWFnZSIsIldhbGwiLCJFbXB0eUNlbGwiLCJGb29kQ2VsbCIsIlRvcCIsIkJvdHRvbSIsIlJpZ2h0IiwiTGVmdCIsIkNFTEwiLCJzdGFydCIsImNvbm5lY3RTcHJpdGVzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImluaXRDYW52YXMiLCJpbml0RW50aXR5cyIsIl9pbml0R2FtZUxvb3AiLCJzdG9wIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJzcmMiLCJ3aWR0aCIsImhlaWdodCIsImNhbnZhc0NvbnRleHQiLCJnZXRDb250ZXh0IiwiaSIsIkNvdW50IiwiZHJhdyIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImZvbnQiLCJmaWxsU3R5bGUiLCJmaWxsVGV4dCIsInVwZGF0ZVN0YXRlIiwicHJvY2Vzc0tleSIsImUiLCJrZXlDb2RlIiwidGljayIsIm9ua2V5ZG93biIsInNsZWVwIiwiX2dhbWVJc092ZXIiLCJhbGVydCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkdBTUUiLCJtaWxsaXMiLCJqIiwiRGF0ZSIsImdldFRpbWUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYW1lIl0sIm1hcHBpbmdzIjoidUJBQUEsRSwwRkNBQSxhQUVBLDBCQUNDLEtBQUFBLE1BQWdCLEVBQ2hCLEtBQUFDLElBQWMsRUFDZCxLQUFBQyxNQUFPLEVBQ1AsS0FBQUMsYUFBdUIsRUFDdkIsS0FBQUMsY0FBd0IsRUFvQnpCLE9BbEJRLFlBQUFDLGVBQVAsV0FDd0IsR0FBbkIsRUFBQUMsTUFBTUMsS0FBS04sTUFDNEIsR0FBdEMsRUFBQUssTUFBTUMsS0FBS04sSUFBSU0sS0FBS0gsaUJBQ3ZCRyxLQUFLSixhQUFlSSxLQUFLSCxlQUVlLEdBQXJDLEVBQUFFLE1BQU1DLEtBQUtOLElBQUlNLEtBQUtKLGVBQ3ZCSSxLQUFLUCxRQUNtQyxHQUFyQyxFQUFBTSxNQUFNQyxLQUFLTixJQUFJTSxLQUFLSixnQkFDdkIsRUFBQUcsTUFBTUMsS0FBS04sS0FBTyxFQUNsQk0sS0FBS0wsTUFBTyxHQUU2QixHQUFyQyxFQUFBSSxNQUFNQyxLQUFLTixJQUFJTSxLQUFLSixlQUF5QkksS0FBS0wsT0FDdEQsRUFBQUksTUFBTUMsS0FBS04sS0FBTyxFQUNsQixFQUFBSyxNQUFNQyxLQUFLTixJQUFJTSxLQUFLSixjQUFnQixFQUNwQ0ksS0FBS04sSUFBTU0sS0FBS04sSUFBTU0sS0FBS0osZUFFckJJLEtBQUtMLE1BQU8sR0FFdEIs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QUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQ25CbkN5RSxFQUEyQixHTEQvQixFS0lBLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRTHJCZixNQUNBcEMsT0FBT3VDLGlCQUFpQixRQUFRLFdBQzVCLElBQU1DLEVBQU8sSUFBSSxFQUFBZCxLQUNqQmMsRUFBS2pELFFBQ0xTLE9BQU91QyxpQkFBaUIsVUFBVSxXQUFNLE9BQUFDLEVBQUt6QyxjIiwiZmlsZSI6Im1haW4ub3V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtHQU1FfSBmcm9tICcuL2dhbWUnOyBcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGNvbnN0IGdhbWUgPSBuZXcgR0FNRSgpO1xuICAgIGdhbWUuc3RhcnQoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgKCkgPT4gZ2FtZS5zdG9wKCkpO1xufSkiLCJpbXBvcnQge2ZpZWxkfSBmcm9tIFwiLi9tYXBcIjtcclxuXHRcclxuZXhwb3J0IGNsYXNzIFBhY21hbiB7ICAgICAgIFxyXG5cdHNjb3JlOiBudW1iZXIgPSAwICAgIFxyXG5cdHBvczogbnVtYmVyID0gMFx0XHJcblx0bG9zZSA9IGZhbHNlXHJcblx0Tm93RGlyZWN0aW9uOiBudW1iZXIgPSAwXHJcblx0TmV4dERpcmVjdGlvbjogbnVtYmVyID0gMFxyXG5cdFxyXG5cdHB1YmxpYyBVcGRhdGVQb3NpdGlvbigpe1xyXG5cdFx0aWYgKGZpZWxkW3RoaXMucG9zXSA9PSAzKXsgLy9wYWNtYW5cclxuXHRcdFx0aWYgKGZpZWxkW3RoaXMucG9zK3RoaXMuTmV4dERpcmVjdGlvbl0gIT0gMSl7XHJcblx0XHRcdFx0dGhpcy5Ob3dEaXJlY3Rpb24gPSB0aGlzLk5leHREaXJlY3Rpb247XHRcdCAgXHRcdFx0XHQgIFxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChmaWVsZFt0aGlzLnBvcyt0aGlzLk5vd0RpcmVjdGlvbl0gPT0gMClcclxuXHRcdFx0XHR0aGlzLnNjb3JlKys7XHJcblx0XHRcdGlmIChmaWVsZFt0aGlzLnBvcyt0aGlzLk5vd0RpcmVjdGlvbl0gPT0gNCl7XHJcblx0XHRcdFx0ZmllbGRbdGhpcy5wb3NdID0gMjtcclxuXHRcdFx0XHR0aGlzLmxvc2UgPSB0cnVlO1x0XHQgIFx0XHRcdFx0ICBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoKGZpZWxkW3RoaXMucG9zK3RoaXMuTm93RGlyZWN0aW9uXSAhPSAxKSAmJiAoIXRoaXMubG9zZSkpe1xyXG5cdFx0XHRcdGZpZWxkW3RoaXMucG9zXSA9IDI7XHJcblx0XHRcdFx0ZmllbGRbdGhpcy5wb3MrdGhpcy5Ob3dEaXJlY3Rpb25dID0gMztcdFxyXG5cdFx0XHRcdHRoaXMucG9zID0gdGhpcy5wb3MgKyB0aGlzLk5vd0RpcmVjdGlvbjtcdFx0XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7dGhpcy5sb3NlID0gdHJ1ZTt9XHJcblx0fVx0XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2hvc3Qge1xyXG5cdG1lbSA9IDJcclxuXHREaXJlY3Rpb24gPSAwXHRcclxuXHRwb3MgPSAwXHJcblx0XHJcblx0cHJpdmF0ZSBnZXRSYW5kb21JbnRJbmNsdXNpdmUobWluOm51bWJlciwgbWF4Om51bWJlcikge1xyXG5cdFx0bWluID0gTWF0aC5jZWlsKG1pbik7XHJcblx0XHRtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBDaG9vc2VXYXlzKCl7XHJcblx0XHRpZiAoKGZpZWxkW3RoaXMucG9zKzFdID09IDApIHx8IChmaWVsZFt0aGlzLnBvcy0xXSA9PSAwKSB8fCAoZmllbGRbdGhpcy5wb3MrMTldID09IDApIHx8IChmaWVsZFt0aGlzLnBvcy0xOV0gPT0gMCkgfHwgXHJcblx0XHQgICAgKGZpZWxkW3RoaXMucG9zKzFdID09IDIpIHx8IChmaWVsZFt0aGlzLnBvcy0xXSA9PSAyKSB8fCAoZmllbGRbdGhpcy5wb3MrMTldID09IDIpIHx8IChmaWVsZFt0aGlzLnBvcy0xOV0gPT0gMikpe1xyXG5cdFx0XHR3aGlsZSAodGhpcy5EaXJlY3Rpb24gPT0gMCkge1xyXG5cdFx0XHRcdGxldCBSID0gdGhpcy5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMSwgNCk7XHRcclxuXHRcdFx0XHRpZiAoUiA8PSAyKXtcclxuXHRcdFx0XHRcdGlmIChSID09IDEpe1xyXG5cdFx0XHRcdFx0XHRpZiAoKGZpZWxkW3RoaXMucG9zKzFdICE9IDEpICYmIChmaWVsZFt0aGlzLnBvcysxXSAhPSA0KSkgdGhpcy5EaXJlY3Rpb24gPSAxO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHRcclxuXHRcdFx0XHRcdFx0aWYgKChmaWVsZFt0aGlzLnBvcy0xXSAhPSAxKSAmJiAoZmllbGRbdGhpcy5wb3MtMV0gIT0gNCkpIHRoaXMuRGlyZWN0aW9uID0gLTE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpZiAoUiA9PSAzKXtcclxuXHRcdFx0XHRcdFx0aWYgKChmaWVsZFt0aGlzLnBvcysxOV0gIT0gMSkgJiYgKGZpZWxkW3RoaXMucG9zKzE5XSAhPSA0KSkgdGhpcy5EaXJlY3Rpb24gPSAxOTtcclxuXHRcdFx0XHRcdH1lbHNleyBcclxuXHRcdFx0XHRcdFx0aWYgKChmaWVsZFt0aGlzLnBvcy0xOV0gIT0gMSkgJiYgKGZpZWxkW3RoaXMucG9zLTE5XSAhPSA0KSkgdGhpcy5EaXJlY3Rpb24gPSAtMTk7XHJcblx0XHRcdFx0XHR9XHRcdFx0XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuICAgIH1cclxuXHRcclxuXHRwdWJsaWMgVXBkYXRlUG9zaXRpb24oKXtcclxuXHRcdGlmIChmaWVsZFt0aGlzLnBvcyt0aGlzLkRpcmVjdGlvbl0gIT0gMSl7XHRcdFx0XHRcclxuXHRcdFx0aWYgKHRoaXMubWVtID09IDApXHJcblx0XHRcdFx0ZmllbGRbdGhpcy5wb3NdID0gMDtcclxuXHRcdFx0aWYgKHRoaXMubWVtID09IDIpXHJcblx0XHRcdFx0ZmllbGRbdGhpcy5wb3NdID0gMjtcclxuXHRcdFx0XHRcclxuXHRcdFx0aWYgKGZpZWxkW3RoaXMucG9zK3RoaXMuRGlyZWN0aW9uXSA9PSAwKVxyXG5cdFx0XHRcdHRoaXMubWVtID0gMDtcclxuXHRcdFx0aWYgKGZpZWxkW3RoaXMucG9zK3RoaXMuRGlyZWN0aW9uXSA9PSAyKVxyXG5cdFx0XHRcdHRoaXMubWVtID0gMjtcclxuXHRcdFx0ZmllbGRbdGhpcy5wb3MrdGhpcy5EaXJlY3Rpb25dID0gNDtcdFxyXG5cdFx0XHR0aGlzLnBvcyA9IHRoaXMucG9zICsgdGhpcy5EaXJlY3Rpb247XHJcblx0XHRcdH1cdFx0XHJcbiAgICB9XHRcclxufSIsImltcG9ydCB7UGFjbWFuLCBHaG9zdH0gZnJvbSBcIi4vZW50aXR5XCI7XG5pbXBvcnQge2ZpZWxkfSBmcm9tIFwiLi9tYXBcIjtcbmltcG9ydCB7c2xlZXB9IGZyb20gXCIuL2hlbHBlclwiO1xuXG5leHBvcnQgY2xhc3MgR0FNRSB7XG4gICAgV0lEVEggPSA3NjBcbiAgICBIRUlHSFQgPSA4NDBcbiAgICBQQVVTRSA9IDQwMFxuXHRHSE9TVENPVU5UID0gN1xuICAgIGNhbnZhc0NvbnRleHQ6IGFueVxuXHRGb29kID0gMFx0XG5cdEdob3N0cyA9IG5ldyBBcnJheSgpO1xuXHRwYWNtYW4gPSBuZXcgUGFjbWFuKCk7XG5cdFNQUklURVMgPSB7XG4gICAgICAgIEdob3N0OiBuZXcgSW1hZ2UoKSxcdFx0XG5cdFx0V2FsbDogbmV3IEltYWdlKCksXG5cdFx0RW1wdHlDZWxsOiBuZXcgSW1hZ2UoKSxcblx0XHRGb29kQ2VsbDogbmV3IEltYWdlKCksXG5cdFx0XG5cdFx0VG9wOiBuZXcgSW1hZ2UoKSxcblx0XHRCb3R0b206IG5ldyBJbWFnZSgpLFxuXHRcdFJpZ2h0OiBuZXcgSW1hZ2UoKSxcblx0XHRMZWZ0OiBuZXcgSW1hZ2UoKSxcbiAgICB9XG5cdENFTEwgPSB7XG5cdFx0V0lEVEg6IHRoaXMuV0lEVEggLyAxOSxcblx0XHRIRUlHSFQ6IHRoaXMuSEVJR0hUIC8gMjEsXG5cdH1cblx0XG5cdHB1YmxpYyBzdGFydCgpIHtcdFx0XG5cdFx0dGhpcy5jb25uZWN0U3ByaXRlcygpO1xuXHRcdGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcblx0XHR0aGlzLmluaXRDYW52YXMoY2FudmFzKTtcblx0XHR0aGlzLmluaXRFbnRpdHlzKCk7XHRcdFxuXHRcdHRoaXMuX2luaXRHYW1lTG9vcCgpO1xuXHR9XG5cblx0cHVibGljIHN0b3AoKSB7XG5cdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyBcblx0fVxuXG5cdHByaXZhdGUgY29ubmVjdFNwcml0ZXMoKXtcblx0XHR0aGlzLlNQUklURVMuVG9wLnNyYyA9IFwiaW1nL1BhY21hblQucG5nXCJcblx0XHR0aGlzLlNQUklURVMuQm90dG9tLnNyYyA9IFwiaW1nL1BhY21hbkIucG5nXCJcblx0XHR0aGlzLlNQUklURVMuUmlnaHQuc3JjID0gXCJpbWcvUGFjbWFuUi5wbmdcIlxuXHRcdHRoaXMuU1BSSVRFUy5MZWZ0LnNyYyA9IFwiaW1nL1BhY21hbkwucG5nXCJcdFxuXHRcdHRoaXMuU1BSSVRFUy5HaG9zdC5zcmMgPSBcImltZy9HaG9zdC5wbmdcIlxuXHRcdHRoaXMuU1BSSVRFUy5XYWxsLnNyYyA9IFwiaW1nL1dhbGwucG5nXCIgXG5cdFx0dGhpcy5TUFJJVEVTLkVtcHR5Q2VsbC5zcmMgPSBcImltZy9FbXB0eUNlbGwucG5nXCJcblx0XHR0aGlzLlNQUklURVMuRm9vZENlbGwuc3JjID0gXCJpbWcvRm9vZENlbGwucG5nXCJcblx0fVxuXG5cdHByaXZhdGUgaW5pdENhbnZhcyhjYW52YXM6IGFueSl7XG5cdFx0Y2FudmFzLndpZHRoID0gdGhpcy5XSURUSDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gdGhpcy5IRUlHSFQ7XG5cdFx0dGhpcy5jYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0fVxuXHRcblx0cHJpdmF0ZSBpbml0RW50aXR5cygpe1xuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLkdIT1NUQ09VTlQ7IGkrKyl7XG5cdFx0XHR0aGlzLkdob3N0c1tpXSA9IG5ldyBHaG9zdCgpO1x0XHRcblx0XHR9XG5cdFx0bGV0IENvdW50ID0gMDtcblx0XHRmb3IobGV0IGkgPSAwOyBpIDwgMzk5OyBpKyspeyAvL0dob3N0XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gNCl7IFxuXHRcdFx0XHRpZiAoQ291bnQgPCB0aGlzLkdIT1NUQ09VTlQpe3RoaXMuR2hvc3RzW0NvdW50XS5wb3MgPSBpO30gZWxzZSB7ZmllbGRbaV0gPSAwfVxuXHRcdFx0XHRDb3VudCsrO1x0XHRcdFxuXHRcdFx0fVxuXHRcdFx0aWYgKGZpZWxkW2ldID09IDMpeyAvL3BhY21hbiAzXG5cdFx0XHRcdHRoaXMucGFjbWFuLnBvcyA9IGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCAzOTk7IGkrKykgaWYoZmllbGRbaV0gPT0gMCkgdGhpcy5Gb29kKys7XG5cdH1cblx0XG5cdHByaXZhdGUgZHJhdygpIHtcdFxuXHRcdHRoaXMuY2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5XSURUSCwgdGhpcy5IRUlHSFQpO1xuXHRcdFxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPD0gMzk5OyBpICsrKXtcblx0XHRcdGlmIChmaWVsZFtpXSA9PSAwKSAgLy9Gb29kQ2VsbCAwXG5cdFx0XHRcdHRoaXMuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5TUFJJVEVTLkZvb2RDZWxsLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gMSkgIC8vV2FsbCAxXG5cdFx0XHRcdHRoaXMuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5TUFJJVEVTLldhbGwsICh0aGlzLkNFTEwuV0lEVEgqKGklMTkpKSwgKHRoaXMuQ0VMTC5IRUlHSFQqKE1hdGguZmxvb3IoaS8xOSkpKSwgdGhpcy5DRUxMLldJRFRILCB0aGlzLkNFTEwuSEVJR0hUKTtcblx0XHRcdGlmIChmaWVsZFtpXSA9PSAyKSAgLy9FbXB0eUNlbGwgMlxuXHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5FbXB0eUNlbGwsICh0aGlzLkNFTEwuV0lEVEgqKGklMTkpKSwgKHRoaXMuQ0VMTC5IRUlHSFQqKE1hdGguZmxvb3IoaS8xOSkpKSwgdGhpcy5DRUxMLldJRFRILCB0aGlzLkNFTEwuSEVJR0hUKTtcblx0XHRcblx0XHRcdGlmIChmaWVsZFtpXSA9PSAzKXsgLy9wYWNtYW4gM1xuXHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5FbXB0eUNlbGwsICh0aGlzLkNFTEwuV0lEVEgqKGklMTkpKSwgKHRoaXMuQ0VMTC5IRUlHSFQqKE1hdGguZmxvb3IoaS8xOSkpKSwgdGhpcy5DRUxMLldJRFRILCB0aGlzLkNFTEwuSEVJR0hUKTtcblx0XHRcdFx0aWYgKCh0aGlzLnBhY21hbi5Ob3dEaXJlY3Rpb24gPT0gMSkgfHwgKHRoaXMucGFjbWFuLk5vd0RpcmVjdGlvbiA9PSAwKSl0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5SaWdodCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0XHRpZiAodGhpcy5wYWNtYW4uTm93RGlyZWN0aW9uID09IC0xKSB0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5MZWZ0LCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XHRcdGlmICh0aGlzLnBhY21hbi5Ob3dEaXJlY3Rpb24gPT0gLTE5KSB0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5Ub3AsICh0aGlzLkNFTEwuV0lEVEgqKGklMTkpKSwgKHRoaXMuQ0VMTC5IRUlHSFQqKE1hdGguZmxvb3IoaS8xOSkpKSwgdGhpcy5DRUxMLldJRFRILCB0aGlzLkNFTEwuSEVJR0hUKTtcblx0XHRcdFx0aWYgKHRoaXMucGFjbWFuLk5vd0RpcmVjdGlvbiA9PSAxOSkgdGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLlNQUklURVMuQm90dG9tLCAodGhpcy5DRUxMLldJRFRIKihpJTE5KSksICh0aGlzLkNFTEwuSEVJR0hUKihNYXRoLmZsb29yKGkvMTkpKSksIHRoaXMuQ0VMTC5XSURUSCwgdGhpcy5DRUxMLkhFSUdIVCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZmllbGRbaV0gPT0gNCl7IC8vR2hvc3QgNFxuXHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5FbXB0eUNlbGwsICh0aGlzLkNFTEwuV0lEVEgqKGklMTkpKSwgKHRoaXMuQ0VMTC5IRUlHSFQqKE1hdGguZmxvb3IoaS8xOSkpKSwgdGhpcy5DRUxMLldJRFRILCB0aGlzLkNFTEwuSEVJR0hUKTsgIFxuXHRcdFx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRoaXMuU1BSSVRFUy5HaG9zdCwgKHRoaXMuQ0VMTC5XSURUSCooaSUxOSkpLCAodGhpcy5DRUxMLkhFSUdIVCooTWF0aC5mbG9vcihpLzE5KSkpLCB0aGlzLkNFTEwuV0lEVEgsIHRoaXMuQ0VMTC5IRUlHSFQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmNhbnZhc0NvbnRleHQuZm9udCA9IFwiMzBweCBBcmlhbFwiO1xuXHRcdHRoaXMuY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSBcInJlZFwiO1xuXHRcdHRoaXMuY2FudmFzQ29udGV4dC5maWxsVGV4dCh0aGlzLnBhY21hbi5zY29yZSwgMTIsIDI3KTtcblx0fVxuXHRcblx0cHJpdmF0ZSB1cGRhdGVTdGF0ZSgpIHtcdFxuXHRcdHRoaXMucGFjbWFuLlVwZGF0ZVBvc2l0aW9uKCk7XHQvL1BhY21hblx0XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IHRoaXMuR0hPU1RDT1VOVDsgaSsrKXsgIC8vR2hvc3Rcblx0XHRcdGlmIChmaWVsZFt0aGlzLkdob3N0c1tpXS5wb3NdID09IDQpeyAgXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0dGhpcy5HaG9zdHNbaV0uQ2hvb3NlV2F5cygpO1x0XG5cdFx0XHRcdHRoaXMuR2hvc3RzW2ldLlVwZGF0ZVBvc2l0aW9uKCk7XG5cdFx0XHRcdHRoaXMuR2hvc3RzW2ldLkRpcmVjdGlvbiA9IDA7XHRcdFx0XHQgIFx0XHRcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHByaXZhdGUgcHJvY2Vzc0tleShlOmFueSkge1xuXHRcdGlmIChlLmtleUNvZGUgPT0gMzgpIHsgLy/QktCy0LXRgNGFXG5cdFx0XHR0aGlzLnBhY21hbi5OZXh0RGlyZWN0aW9uID0gLTE5O1xuXHRcdH1cblx0XHRpZiAoZS5rZXlDb2RlID09IDQwKSB7IC8v0JLQvdC40Ldcblx0XHRcdHRoaXMucGFjbWFuLk5leHREaXJlY3Rpb24gPSAxOTtcblx0XHR9XG5cdFx0aWYgKGUua2V5Q29kZSA9PSAzNykgeyAvL9CS0LvQtdCy0L5cblx0XHRcdHRoaXMucGFjbWFuLk5leHREaXJlY3Rpb24gPSAtMTtcblx0XHR9XG5cdFx0aWYgKGUua2V5Q29kZSA9PSAzOSkgeyAvL9CS0L/RgNCw0LLQvlxuXHRcdFx0dGhpcy5wYWNtYW4uTmV4dERpcmVjdGlvbiA9IDE7XG5cdFx0fVxuXHR9XG5cdFxuXHRwcml2YXRlIHRpY2soKSB7XG5cdFx0Ly9hbGVydCggdHlwZW9mIHRoaXMucGFjbWFuLk5vd0RpcmVjdGlvbiApO1xuXHRcdHdpbmRvdy5vbmtleWRvd24gPSB0aGlzLnByb2Nlc3NLZXk7XG5cdFx0Ly9hbGVydCggdHlwZW9mIHRoaXMucGFjbWFuLk5vd0RpcmVjdGlvbiApO1xuXHRcdHRoaXMudXBkYXRlU3RhdGUoKTtcblx0XHQvL2FsZXJ0KCB0eXBlb2YgdGhpcy5wYWNtYW4uTm93RGlyZWN0aW9uICk7XG5cdFx0dGhpcy5kcmF3KCk7XG5cdFx0c2xlZXAodGhpcy5QQVVTRSk7XG5cdH1cblx0XG5cdHByaXZhdGUgX2dhbWVJc092ZXIoKXtcdFx0XG5cdFx0aWYgKCh0aGlzLnBhY21hbi5sb3NlKSB8fCAodGhpcy5wYWNtYW4uc2NvcmUgPT0gdGhpcy5Gb29kKSkge1xuXHRcdFx0aWYgKHRoaXMucGFjbWFuLmxvc2UpIHtcblx0XHRcdFx0YWxlcnQoXCLQotGLINC/0YDQvtC40LPRgNCw0LshXCIpOyBcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnBhY21hbi5zY29yZSA9PSB0aGlzLkZvb2QpIHtcblx0XHRcdFx0YWxlcnQoXCLQotGLINC/0L7QsdC10LTQuNC7IVwiKTsgXG5cdFx0XHR9XG5cdFx0XHRzbGVlcCgyMDApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtyZXR1cm4gZmFsc2U7fVxuXHR9XG5cdFxuXHRwcml2YXRlIF9pbml0R2FtZUxvb3AoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2dhbWVJc092ZXIoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRHYW1lTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cdFx0KVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzbGVlcChtaWxsaXM6bnVtYmVyKSB7XHJcblx0bGV0IGogPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG5cdHdoaWxlICgoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIGopIDwgbWlsbGlzKSB7XHR9XHJcbn0iLCJleHBvcnQgbGV0IGZpZWxkID1bMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSxcclxuXHRcdFx0MSw0LDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDQsMSxcclxuXHRcdFx0MSwwLDEsMSwwLDEsMSwxLDAsMSwwLDEsMSwxLDAsMSwxLDAsMSxcclxuXHRcdFx0MSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSxcclxuXHRcdFx0MSwwLDEsMSwwLDEsMCwxLDEsMSwxLDEsMCwxLDAsMSwxLDAsMSxcclxuXHRcdFx0MSwwLDAsMCwwLDEsMCwwLDAsMSwwLDAsMCwxLDAsMCwwLDAsMSxcclxuXHRcdFx0MSwxLDEsMSwwLDEsMSwxLDAsMSwwLDEsMSwxLDAsMSwxLDEsMSxcclxuXHRcdFx0MiwyLDIsMSwwLDEsMCwwLDAsMCwwLDAsMCwxLDAsMSwyLDIsMixcclxuXHRcdFx0MSwxLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDEsMSxcclxuXHRcdFx0MCwwLDAsMCwwLDAsMCwxLDQsNCw0LDEsMCwwLDAsMCwwLDAsMCxcclxuXHRcdFx0MSwxLDEsMSwwLDEsMCwxLDEsMSwxLDEsMCwxLDAsMSwxLDEsMSxcclxuXHRcdFx0MiwyLDIsMSwwLDEsMCwwLDAsNCwwLDAsMCwxLDAsMSwyLDIsMixcclxuXHRcdFx0MSwxLDEsMSwwLDEsMCwxLDEsMSwxLDEsMCwxLDAsMSwxLDEsMSxcclxuXHRcdFx0MSwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMSxcclxuXHRcdFx0MSwwLDEsMSwwLDEsMSwxLDAsMSwwLDEsMSwxLDAsMSwxLDAsMSxcclxuXHRcdFx0MSwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMSxcclxuXHRcdFx0MSwxLDAsMSwwLDEsMCwxLDEsMSwxLDEsMCwxLDAsMSwwLDEsMSxcclxuXHRcdFx0MSwwLDAsMCwwLDEsMCwwLDAsMSwwLDAsMCwxLDAsMCwwLDAsMSxcclxuXHRcdFx0MSwwLDEsMSwxLDEsMSwxLDAsMSwwLDEsMSwxLDEsMSwxLDAsMSxcclxuXHRcdFx0MSw0LDAsMCwwLDAsMCwwLDAsMywwLDAsMCwwLDAsMCwwLDQsMSxcclxuXHRcdFx0MSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMV07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=